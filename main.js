!function(t){var e={};function r(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){},function(t,e,r){"use strict";r.r(e);r(0);class a{constructor(){this.lastCombination=[],this.capsLockCounter=0,this.lang=window.sessionStorage.getItem("keyboardLang"),this.letterCase=window.sessionStorage.getItem("keyboardCase"),this.checkSessionStore(),this.keysButtonClass=0,this.keysCode=5,this.textareaLeftState=[],this.textareaCarriage="ǁ",this.textareaRightState=[],this.keys=[["writer","`","~","ё","Ё","Backquote"],["writer","1","!","1","!","Digit1"],["writer","2","@","2",'"',"Digit2"],["writer","3","#","3","№","Digit3"],["writer","4","$","4",";","Digit4"],["writer","5","%","5","%","Digit5"],["writer","6","^","6",":","Digit6"],["writer","7","&","7","?","Digit7"],["writer","8","*","8","*","Digit8"],["writer","9","(","9","(","Digit9"],["writer","0",")","0",")","Digit0"],["writer","-","_","-","_","Minus"],["writer","=","+","=","+","Equal"],["textformat backspace","BackSpace","BackSpace","BackSpace","BackSpace","Backspace"],["textformat tab","Tab","Tab","Tab","Tab","Tab"],["writer","q","Q","й","Й","KeyQ"],["writer","w","W","ц","Ц","KeyW"],["writer","e","E","у","У","KeyE"],["writer","r","R","к","К","KeyR"],["writer","t","T","е","Е","KeyT"],["writer","y","Y","н","Н","KeyY"],["writer","u","U","г","Г","KeyU"],["writer","i","I","ш","Ш","KeyI"],["writer","o","O","щ","Щ","KeyO"],["writer","p","P","з","З","KeyP"],["writer","[","{","х","Х","BracketLeft"],["writer","]","}","ъ","Ъ","BracketRight"],["textformat del","Del","Del","Del","Del","Delete"],["control capslock","CapsLock","CapsLock","CapsLock","CapsLock","CapsLock"],["writer","a","A","ф","Ф","KeyA"],["writer","s","S","ы","Ы","KeyS"],["writer","d","D","в","В","KeyD"],["writer","f","F","а","А","KeyF"],["writer","g","G","п","П","KeyG"],["writer","h","H","р","Р","KeyH"],["writer","j","J","о","О","KeyJ"],["writer","k","K","л","Л","KeyK"],["writer","l","L","д","Д","KeyL"],["writer",";",":","ж","Ж","Semicolon"],["writer","'",'"',"э","Э","Quote"],["writer","\\","|","\\","/","Backslash"],["textformat enter","Enter","Enter","Enter","Enter","Enter"],["control shift","Shift","Shift","Shift","Shift","ShiftLeft"],["writer","z","Z","я","Я","KeyZ"],["writer","x","X","ч","Ч","KeyX"],["writer","c","C","с","С","KeyC"],["writer","v","V","м","М","KeyV"],["writer","b","B","и","И","KeyB"],["writer","n","N","т","Т","KeyN"],["writer","m","M","ь","Ь","KeyM"],["writer",",","<","б","Б","Comma"],["writer",".",">","ю","Ю","Period"],["writer","/","?",".",",","Slash"],["arrowup","▲","▲","▲","▲","ArrowUp"],["control shift","Shift","Shift","Shift","Shift","ShiftRight"],["control ctrl","Ctrl","Ctrl","Ctrl","Ctrl","ControlLeft"],["control win","Win","Win","Win","Win","OSLeft"],["control alt","Alt","Alt","Alt","Alt","AltLeft"],["textformat space writer"," "," "," "," ","Space"],["control alt","Alt","Alt","Alt","Alt","AltRight"],["arrowleft","◄","◄","◄","◄","ArrowLeft"],["arrowdown","▼","▼","▼","▼","ArrowDown"],["arrowright","►","►","►","►","ArrowRight"],["control ctrl","Ctrl","Ctrl","Ctrl","Ctrl","ControlRight"]]}checkSessionStore(){this.lang||(window.sessionStorage.setItem("keyboardLang",1),this.lang=1),this.letterCase||(window.sessionStorage.setItem("keyboardCase",0),this.letterCase=0)}createField(){const t=document.createElement("textarea"),e=document.createElement("div");t.setAttribute("id","textarea"),e.setAttribute("id","keyboard"),document.body.append(t),document.body.append(e)}createButtons(){this.keys.forEach(t=>{const e=document.createElement("button");e.innerText=t[Number(this.lang)+Number(this.letterCase)],e.setAttribute("class",`${t[this.keysButtonClass]}`),document.querySelector("#keyboard").append(e)})}updateButtons(){document.querySelectorAll("button").forEach((t,e)=>{t.innerHTML=this.keys[e][Number(this.lang)+Number(this.letterCase)]})}selectButtonByKeyboard(t){const{code:e}=t,r=document.querySelectorAll("button");this.keys.forEach((t,a)=>{e===t[this.keysCode]&&r[a].classList.add("selected")}),this.checkActiveButtons(),this.textareaWriterByKeyboard(t)}unselectButtonByKeyboard(t){const{code:e}=t,r=document.querySelectorAll("button");this.keys.forEach((t,a,i)=>{e===i[a][this.keysCode]&&("CapsLock"!==e?r[a].classList.remove("selected"):this.checkCapsLockButton())}),this.checkActiveButtons()}selectButtonByMouseDown(t){const{target:e}=t;e.classList.add("selected"),this.checkActiveButtons(),this.textareaWriterByMouse(t)}unselectButtonByMouseUp(t){const{target:e}=t;"CapsLock"!==e.innerHTML?e.classList.remove("selected"):this.checkCapsLockButton(),this.checkActiveButtons()}changeLanguage(){this.lang=1===this.lang?3:1}saveKeyboardOptions(){window.sessionStorage.setItem("keyboardLang",this.lang)}checkActiveButtons(){const t=["Shift","CapsLock","Alt,Shift","CapsLock,Shift"],e=document.querySelectorAll(".control.selected");let r=[];if(e.forEach(t=>{r.push(t.innerHTML)}),r=r.sort().join(),this.lastCombination!==r){switch(r){case t[0]:case t[1]:this.letterCase=1;break;case t[2]:this.changeLanguage();break;case t[3]:default:this.letterCase=0}this.lastCombination=r}this.updateButtons(),this.saveKeyboardOptions()}checkCapsLockButton(){const t=document.querySelector(".capslock");0===this.capsLockCounter?t.classList.add("selected"):t.classList.remove("selected"),this.capsLockCounter=1===this.capsLockCounter?0:1}writer(t){const e=document.querySelector("textarea");if(t.classList.contains("writer"))this.textareaLeftState.push(t.innerHTML),e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join("");else if(t.classList.contains("tab"))this.textareaLeftState.push("\t"),e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join("");else if(t.classList.contains("enter"))this.textareaLeftState.push("\n"),e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join("");else if(t.classList.contains("backspace"))this.textareaLeftState.pop(),e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join("");else if(t.classList.contains("arrowleft"))this.textareaLeftState.length>0&&(this.textareaRightState.unshift(this.textareaLeftState.pop()),e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join(""));else if(t.classList.contains("arrowright"))this.textareaRightState.length>0&&(this.textareaLeftState.push(this.textareaRightState.shift()),e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join(""));else if(t.classList.contains("del"))this.textareaRightState.shift(),e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join("");else if(t.classList.contains("arrowup")){for(let t=0;t<93&&this.textareaLeftState.length>0;t+=1)this.textareaRightState.unshift(this.textareaLeftState.pop());e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join("")}else if(t.classList.contains("arrowdown")){for(let t=0;t<93&&this.textareaRightState.length>0;t+=1)this.textareaLeftState.push(this.textareaRightState.shift());e.innerHTML=[...this.textareaLeftState,this.textareaCarriage,...this.textareaRightState].join("")}}textareaWriterByMouse(t){const{target:e}=t;this.writer(e)}textareaWriterByKeyboard(t){const{code:e}=t,r=document.querySelectorAll("button");this.keys.forEach((t,a)=>{t[this.keysCode]===e&&this.writer(r[a])})}deleteDefaultActions(t){t.preventDefault()}addEventListeners(){const t=document.querySelector("#keyboard");document.addEventListener("keydown",t=>{this.deleteDefaultActions(t),this.selectButtonByKeyboard(t)}),document.addEventListener("keyup",t=>{this.deleteDefaultActions(t),this.unselectButtonByKeyboard(t)}),t.addEventListener("mousedown",t=>{this.deleteDefaultActions(t),this.selectButtonByMouseDown(t)}),t.addEventListener("mouseup",t=>{this.deleteDefaultActions(t),this.unselectButtonByMouseUp(t)})}}!function(){const t=new a;t.createField(),t.createButtons(),t.addEventListeners()}()}]);